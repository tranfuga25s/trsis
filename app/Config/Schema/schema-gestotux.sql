USE "trsis";
CREATE TABLE IF NOT EXISTS `clientes` (  `id` bigint(10) NOT NULL AUTO_INCREMENT,  `razon_social` tinytext COLLATE utf8_spanish_ci NOT NULL,  `nombre` tinytext COLLATE utf8_spanish_ci,  `apellido` tinytext COLLATE utf8_spanish_ci,  `calle` tinytext COLLATE utf8_spanish_ci,  `numero` int(2) DEFAULT NULL,  `piso` int(2) DEFAULT NULL,  `depto` tinytext COLLATE utf8_spanish_ci,  `ciudad` tinytext COLLATE utf8_spanish_ci,  `codigo_postal` tinytext COLLATE utf8_spanish_ci,  `provincia` bigint(20) DEFAULT NULL,  `pais` bigint(20) DEFAULT NULL,  `tel_fijo` tinytext COLLATE utf8_spanish_ci,  `tel_celular` tinytext COLLATE utf8_spanish_ci,  `fax` tinytext COLLATE utf8_spanish_ci,  `email` tinytext COLLATE utf8_spanish_ci,  `comprobante_email` tinyint(1) DEFAULT '1',  `ctacte` tinyint(1) DEFAULT NULL,  `CUIT/CUIL` tinytext COLLATE utf8_spanish_ci,  `id_estado_fiscal` int(11) NOT NULL,  PRIMARY KEY (`id`),  KEY `pais_fk` (`pais`),  KEY `provincia_fk` (`provincia`) ) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=15 ;
CREATE TABLE IF NOT EXISTS `cobro_servicio_cliente_periodo` (  `id_periodo_servicio` bigint(20) NOT NULL,  `id_servicio` bigint(20) NOT NULL,  `id_cliente` bigint(20) NOT NULL,  `id_factura` bigint(20) NOT NULL,  `id_recibo` bigint(20) DEFAULT NULL,  `id_ctacte` bigint(20) DEFAULT NULL,  PRIMARY KEY (`id_periodo_servicio`,`id_servicio`,`id_cliente`),  KEY `id_servicio` (`id_servicio`,`id_cliente`),  KEY `id_ctacte` (`id_ctacte`),  KEY `id_recibo` (`id_recibo`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci;
CREATE TABLE IF NOT EXISTS `ctacte` (  `numero_cuenta` bigint(20) NOT NULL AUTO_INCREMENT,  `id_cliente` bigint(20) NOT NULL,  `fecha_alta` date NOT NULL,  `fecha_baja` date DEFAULT NULL,  `saldo` double DEFAULT NULL,  `limite` double(20,4) DEFAULT NULL,  `suspendida` tinyint(1) NOT NULL DEFAULT '0',  PRIMARY KEY (`numero_cuenta`),KEY `ctacte_cliente_fk` (`id_cliente`)) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=14 ;
CREATE TABLE IF NOT EXISTS `estado_fiscal` (  `id_estado_fiscal` int(11) NOT NULL AUTO_INCREMENT,`titulo` tinytext COLLATE utf8_spanish_ci NOT NULL,  PRIMARY KEY (`id_estado_fiscal`)) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=9 ;
CREATE TABLE IF NOT EXISTS `item_ctacte` (  `id_op_ctacte` bigint(6) NOT NULL AUTO_INCREMENT, `fecha` datetime NOT NULL,  `id_referencia` bigint(20) NOT NULL,  `tipo_op` smallint(6) NOT NULL,  `descripcion` tinytext COLLATE utf8_spanish_ci,  `debe` decimal(12,3) DEFAULT NULL,  `haber` decimal(12,3) DEFAULT NULL,  `id_ctacte` bigint(20) NOT NULL,  `numero_comprobante` tinytext COLLATE utf8_spanish_ci,  PRIMARY KEY (`id_op_ctacte`),  KEY `item_ctacte_ctacte_fk` (`id_ctacte`)) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=63 ;
CREATE TABLE IF NOT EXISTS `paises` (  `id_pais` bigint(20) NOT NULL AUTO_INCREMENT,  `nombre` tinytext COLLATE utf8_spanish_ci NOT NULL,  `predeterminado` tinyint(1) NOT NULL DEFAULT '0',  PRIMARY KEY (`id_pais`),  UNIQUE KEY `nombre_unico` (`nombre`(50))) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=242 ;
CREATE TABLE IF NOT EXISTS `periodo_servicio` (  `id_periodo_servicio` bigint(20) NOT NULL AUTO_INCREMENT,  `id_servicio` bigint(20) NOT NULL,  `fecha` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  `periodo` int(11) NOT NULL,  `ano` year(4) NOT NULL,  `fecha_inicio` date NOT NULL,  `fecha_fin` date NOT NULL,  PRIMARY KEY (`id_periodo_servicio`),  KEY `id_servicio` (`id_servicio`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `servicios` (  `id_servicio` bigint(1) NOT NULL AUTO_INCREMENT,  `nombre` tinytext CHARACTER SET latin1 NOT NULL,  `descripcion` text CHARACTER SET latin1,  `fecha_alta` date NOT NULL,  `fecha_baja` date DEFAULT NULL,  `precio_base` double(10,3) NOT NULL,  `periodo` int(10) NOT NULL,  `dia_cobro` int(10) NOT NULL,  `forma_incompleto` int(10) NOT NULL,  PRIMARY KEY (`id_servicio`)) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci AUTO_INCREMENT=11 ;
CREATE TABLE IF NOT EXISTS `servicios_clientes` (  `id_servicio` bigint(1) NOT NULL DEFAULT '0',  `id_cliente` bigint(1) NOT NULL DEFAULT '0',  `fecha_alta` datetime NOT NULL,  `fecha_baja` datetime DEFAULT NULL,  `razon` tinytext COLLATE utf8_spanish_ci,  PRIMARY KEY (`id_servicio`,`id_cliente`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci;